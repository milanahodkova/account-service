# Account service
Данное RESTful-приложение предназначено для управления данными пользователей, состоянием их счетов и всеми операциями, связанными с этими счетами.

Приложение хранит следующую информацию:

Данные пользователя:
Имя
Уникальный номер документа (паспорт, водительское удостоверение)
Тип документа
Состояние счета пользователя:
Баланс счета (с точностью до 2 знаков после запятой, например, 2,31)
Валюта счета
История операций по счету:
Полный учет всех транзакций, связанных со счетом пользователя
Функциональность
Приложение предоставляет RESTful API для выполнения следующих основных действий:

 Создание, чтение, обновление и удаление данных пользователя
 Просмотр состояния счета пользователя
 Проведение операций пополнения, списания и перевода средств со счета
 Получение истории операций по счету

## Запуск приложения

Для запуска проекта необходимо :

1. Склонировать данный репозиторий:

   ```bash
   git clone https://github.com/milanahodkova/account-service.git
   ```
2. Запустить сборку проекта:

   ```
   gradlew clean build
   ```
3. Запустить проект, выполнив следующую команду в корневой папке проекта:

   ```docker-compose
   docker-compose up
   ```

### Подключение pgAdmin в docker
1.  адрес: http://localhost:82
2.  логин a@mail.com и пароль 111222;
3. бд: account_service_db пароль: root

## Swagger Documentation

Для доступа к документации Swagger для сервиса account-service используйте следующие URL-адреса: /swagger-ui.html
и /v3/api-docs.


## Endpoints
### Операции с пользователями
#### ***POST /users***
Регистрирует нового пользователя в системе и возвращает его данные. Данные (имя пользователя, тип документа и его номер) передаются в теле запроса.

#### ***GET /users/{uuid}***
Получение данных пользователя по его уникальному идентификатору (uuid), который передается в пути запроса. 

#### ***PUT /users/{uuid}***
Обновляет информацию о пользователе с заданным идентификатором. 

#### ***DELETE /users/{uuid}***
Удаляет пользователя из системы по его уникальному идентификатору.

### Операции со счетами
#### ***GET /accounts/user/{userId}***
Получение списка счетов для конкретного пользователя.

#### ***GET /accounts/{accountId}***
Получение счета по идентификатору.

#### ***POST /accounts***
Создание нового счета с одновременным зачислением средств на этот счет.
В теле запроса передаются данные о валюте счета, первоначальном балансе 
(будет произведено зачисление после открытия) и владельце счета (его уникальный идентификатор).

#### ***PUT /accounts/deposit***
Пополнение счета. Информация о сумме и идентификатор счета передаются в теле запроса.

#### ***PUT /accounts/withdraw***
Операция снятия денег со счета.

#### ***PUT /transfer/{accountIdTo}***
Операция перевода денежных средств на другой счет.

#### ***DELETE /transfer/{accountId}***
Закрытие счета.

### Операции с  транзакциями
#### ***GET /transactions/{transactionId}***
Получение информации о транзакции по ее идентификатору.

#### ***GET /transactions/account/{accountId}***
Получение списка транзакций для конкретного счета.

## Стек
* Java 21, SpringBoot 3.2.5, PostgreSQl, Liquibase, Lombok, JUnit, Mockito, Gradle, Docker
  , Open API 3.0




